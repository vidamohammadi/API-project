(this["webpackJsonprestful-api"]=this["webpackJsonprestful-api"]||[]).push([[0],{38:function(t,e,n){},39:function(t,e,n){},58:function(t,e,n){},68:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(29),s=n.n(a),o=n(8),r=n(9),i=n(12),l=n(11),u=n(10),d=(n(38),n(20)),j=(n(39),n(30)),h=n.n(j).a.create({baseURL:"https://jsonplaceholder.typicode.com"}),b=(n(58),n(1)),p=function(t){return Object(b.jsxs)("article",{className:"post",onClick:t.click,children:[Object(b.jsx)("h2",{children:t.title}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"author",children:t.author})})]})},O=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={posts:[],selectPostId:null,error:!1},t.selectedPost=function(e){t.setState({selectPostId:e})},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;h.get("/posts").then((function(e){var n=e.data.slice(0,8).map((function(t){return Object(d.a)(Object(d.a)({},t),{},{author:'"vida"'})}));t.setState({posts:n})})).catch((function(e){t.setState({error:!0})}))}},{key:"render",value:function(){var t=this,e=Object(b.jsx)("p",{children:"Fetching data failed!"});return this.state.error||(e=this.state.posts.map((function(e){return Object(b.jsx)(u.b,{to:"/".concat(e.id),children:Object(b.jsx)(p,{title:e.title,author:e.author,click:function(){return t.selectedPost(e.id)}})},e.id)}))),Object(b.jsx)("div",{className:"center",style:{flexFlow:"wrap"},children:e})}}]),n}(c.Component),x=O,f=n(33),m=(n(68),n(69),function(t){return Object(b.jsx)("button",{className:"btn",onClick:t.onClick,children:t.value})}),v=(n(70),function(t){return"input"===t.name?Object(b.jsx)("input",{className:"input",type:"text",value:t.value,onChange:t.onChange}):Object(b.jsx)("textarea",{className:"input",style:{height:"150px"},rows:"4",value:t.value,onChange:t.onChange})}),g=n(2),y=function(){var t=Object(c.useState)({id:"",title:"",content:"",auther:"",submitted:!1}),e=Object(f.a)(t,2),n=e[0],a=e[1],s=null;return n.submitted&&(s=Object(b.jsx)(g.a,{to:"/"})),Object(b.jsxs)("div",{className:"newPost",children:[s,Object(b.jsx)("h1",{children:"Add a Post"}),Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)(v,{name:"input",value:n.title,onChange:function(t){return a({title:t.target.value})}}),Object(b.jsx)("label",{children:"Content"}),Object(b.jsx)(v,{name:"texteara",value:n.content,onChange:function(t){return a({content:t.target.content})}}),Object(b.jsx)("label",{children:"Auther"}),Object(b.jsx)(v,{name:"input",value:n.auther,onChange:function(t){return a({auther:t.target.auther})}}),Object(b.jsx)(m,{value:"Add Post",onClick:function(){var t={title:n.title,body:n.content,auther:n.auther};h.post("/posts",t).then((function(t){console.log(t),alert("this post added and you can check how it work in consol."),a({submitted:!0}),console.log(n.submitted)}))}})]})},P=(n(71),function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={loadedPost:null},t.deletePostHandler=function(){h.delete("/posts/".concat(t.props.match.params.id)).then((function(t){console.log(t),alert("this post deleted and you can check how it work in consol.")}))},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.match.params.id&&(!this.state.loadedPost||this.state.loadedPost&&this.state.loadedPost.id!==this.props.match.params.id)&&h.get("/posts/".concat(this.props.match.params.id)).then((function(e){t.setState({loadedPost:e.data})}))}},{key:"render",value:function(){var t=Object(b.jsx)("p",{children:"Please select a Post !"});return this.props.match.params.id&&(t=Object(b.jsx)("p",{children:"Loading..."})),this.state.loadedPost&&(t=Object(b.jsxs)("div",{className:"fullPost",children:[Object(b.jsx)("h1",{children:this.state.loadedPost.title}),Object(b.jsx)("p",{children:this.state.loadedPost.body}),Object(b.jsx)(m,{value:"Delete",onClick:this.deletePostHandler})]})),t}}]),n}(c.Component)),k=P,C=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("header",{children:Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(u.b,{to:"/new-post",children:"New Post"})})]})})}),Object(b.jsxs)(g.d,{children:[Object(b.jsx)(g.b,{path:"/",exact:!0,component:x}),Object(b.jsx)(g.b,{path:"/new-post",component:y}),Object(b.jsx)(g.b,{path:"/:id",exact:!0,component:k}),Object(b.jsx)(g.b,{render:function(){return Object(b.jsx)("h2",{style:{textAlign:"center",marginTop:"100px"},children:"Not Found"})}})]})]})}}]),n}(c.Component),w=C,N=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(b.jsx)(u.a,{children:Object(b.jsx)("div",{children:Object(b.jsx)(w,{})})})}}]),n}(c.Component),A=N;s.a.render(Object(b.jsx)(A,{}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.dfd097ca.chunk.js.map